
&НаСервере
Процедура ОбновитьСписокОбъектовКонфигурацииНаСервере()
	ЭтаОбработка = РеквизитФормыВЗначение("Объект");
	ЭтаОбработка.ОбновитьСписокОбъектов();
	ЗначениеВРеквизитФормы(ЭтаОбработка, "Объект");
КонецПроцедуры

&НаКлиенте
Процедура ОбновитьСписокОбъектовКонфигурации(Команда)
	ОбновитьСписокОбъектовКонфигурацииНаСервере();
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьКонструкторЗапроса(Команда)
	
	Конструктор = Новый КонструкторЗапроса; 
	Конструктор.Текст = Элементы.ОбъектыКонфигурации.ТекущиеДанные.Запрос; 
	Оповещение = Новый ОписаниеОповещения("ОткрытьКонструкторЗапросаЗавершение", ЭтотОбъект, Элементы.ОбъектыКонфигурации.ТекущаяСтрока); 
	Конструктор.Показать(Оповещение);
	
КонецПроцедуры

&НаКлиенте 
Процедура ОткрытьКонструкторЗапросаЗавершение(Текст, ДополнительныеПараметры) Экспорт 
	
	ИдентификаторСтроки = ДополнительныеПараметры;
	ТЗОбъект = Объект.ОбъектыКонфигурации;
	Если ИдентификаторСтроки = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Строка = ТЗОбъект.НайтиПоИдентификатору(ИдентификаторСтроки);
	
	Конструктор = Новый КонструкторЗапроса; 
	Конструктор.Текст = Строка.Запрос;
	Если Конструктор.Текст = Текст Тогда
		Возврат;
	КонецЕсли;
	
	Строка.Запрос = Текст;
	Строка.ИспользоватьОткорректированныйЗапрос = Истина;
	
КонецПроцедуры

&НаСервере
Процедура ПолучитьМакетИзЗапросаНаСервере(ТекстЗапроса)
	ЭтаОбработка = РеквизитФормыВЗначение("Объект");
	ТабличныйДокумент = ЭтаОбработка.СгенерироватьМакетИзЗапроса(ТекстЗапроса);
	ТабличныйДокумент.Показать();
КонецПроцедуры

&НаКлиенте
Процедура ПолучитьМакетИзЗапроса(Команда)
	ПолучитьМакетИзЗапросаНаСервере(Элементы.ОбъектыКонфигурации.ТекущиеДанные.Запрос);
КонецПроцедуры
